# SKBLAB.CI-CD.Model
Тестовые задания №3 и №4 от SKBLAB

Разделим этапы настройки инфраструктуры на два:
- подготовительный: организующий тестовую среду, которая послужит основой для выполнения задания
- основной: установка сервисов, непосредственно используемых в задании

## Подготовительный этап

Цель этого этапа: получить виртуальную машину с требуемым набором сервисов (docker, minikube, gitlab, jenkins).

Выполняемые процедуры зависят от имеющейся инфраструктуры. Я запущу [Vagrantfile](Vagrantfile) на хосте Windows с Hyper-V. Данный этап не автоматизировал из-за нехватки времени. ip-адрес полученной ВМ укажем в inventory-файле Ansible.

Для копирования ключа ssh на управляемый хост создан таск [copy_ssh_id.yml](roles/init_role/tasks/copy_ssh_id.yml).

Cервисы GitLab и Jenkins устанавливаются в ходе выполнения роли `init_role` из docker-образов от разработчиков этих продуктов. Автоматически сгенерированный пароль от Jenkins будет выведен в результаты работы плейбука.

## Основной этап

Цель: подготовить репозиторий с Jenkinsfile и инструментами для публикации сервиса.


